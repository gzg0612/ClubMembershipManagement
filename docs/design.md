# 连锁管理系统设计文档

## 1. 系统概述

### 1.1 项目背景
本系统旨在为射箭馆提供全面的管理解决方案，包括会员管理、商品管理、店铺管理、账号管理、财务管理、活动管理和数据回收站等功能。

### 1.2 技术栈
- 前端：Vue.js + Element UI
- 后端：Go + Gin + GORM
- 数据库：MySQL
- 缓存：Redis

## 2. 系统架构

### 2.1 整体架构
```
├── frontend/          # Vue.js前端项目
├── backend/           # Go后端项目
├── docs/              # 项目文档
└── prototype/         # 项目原型图
```

### 2.2 技术架构
- 采用前后端分离架构
- RESTful API设计
- JWT认证
- 微服务架构设计


## 5. 前端页面设计

### 5.1 页面布局
- 顶部导航栏：显示系统名称、通知中心、用户信息及退出选项
- 左侧菜单栏：主导航菜单，包含各功能模块入口
- 主内容区：展示具体功能页面内容
- 底部信息栏：版权信息、系统版本号等

### 5.2 主要页面

#### 5.2.1 系统概览
- **控制台仪表盘**
  - 销售数据概览（今日/本周/本月销售额）
  - 会员数据概览（总会员数、新增会员数、活跃会员数）
  - 库存预警提示
  - 热销商品排行
  - 近期活动效果
  - 业务趋势图表

#### 5.2.2 会员管理模块
- **会员列表页面**
  - 会员数据表格（支持分页、筛选、排序）
  - 会员快速操作（查看详情、充值、消费记录等）
  - 批量操作工具栏
  - 高级搜索功能区
  
- **会员详情页面**
  - 基本信息卡片
  - 消费记录列表
  - 充值记录列表
  - 会员标签管理
  - 持有优惠券列表
  - 交易统计图表
  
- **会员添加/编辑页面**
  - 会员基本信息表单
  - 会员等级选择
  - 标签分配区域
  
- **会员充值页面**
  - 充值金额输入
  - 支付方式选择
  - 充值备注
  
- **会员统计分析页面**
  - 会员增长趋势图
  - 会员消费分布图
  - 会员等级分布图
  - 会员活跃度分析
  - 会员留存率分析

#### 5.2.3 商品管理模块
- **商品列表页面**
  - 商品数据表格（支持分页、筛选、排序）
  - 商品快速操作（查看详情、修改价格、库存管理等）
  - 批量操作工具栏
  - 商品分类筛选侧边栏
  
- **商品详情页面**
  - 基本信息卡片
  - 价格历史记录
  - 库存变动记录
  - 销售数据统计
  
- **商品添加/编辑页面**
  - 商品基本信息表单
  - 商品图片上传
  - 价格及库存设置
  - 商品分类选择
  
- **商品类别管理页面**
  - 类别树形结构展示
  - 类别添加/编辑/删除操作
  
- **库存管理页面**
  - 库存预警商品列表
  - 入库记录管理
  - 出库记录管理
  - 库存盘点工具

#### 5.2.4 营销活动模块
- **活动列表页面**
  - 活动数据表格（支持分页、筛选、排序）
  - 活动状态管理（上线/下线）
  - 活动效果快速查看
  
- **活动详情页面**
  - 活动基本信息
  - 参与会员数据
  - 活动效果分析图表
  - 关联优惠券信息
  
- **活动创建/编辑页面**
  - 活动基本信息设置
  - 活动规则配置
  - 活动时间设置
  - 目标会员群体选择
  
- **优惠券管理页面**
  - 优惠券列表
  - 优惠券创建/编辑
  - 优惠券发放记录
  - 优惠券使用统计

#### 5.2.5 订单管理模块
- **订单列表页面**
  - 订单数据表格（支持分页、筛选、排序）
  - 订单状态快速筛选
  - 订单详情快速查看
  
- **订单详情页面**
  - 订单基本信息
  - 商品明细列表
  - 支付信息
  - 订单状态流程图
  - 订单操作历史
  
- **订单创建页面**
  - 会员选择
  - 商品选择及数量设置
  - 优惠券应用
  - 支付方式选择

#### 5.2.6 数据统计分析模块
- **销售数据分析页面**
  - 销售趋势图表（日/周/月/年）
  - 商品销售排行
  - 品类销售分布
  - 销售额构成分析
  
- **会员数据分析页面**
  - 会员增长趋势
  - 会员消费习惯分析
  - 会员价值分布
  - 会员流失预警
  
- **经营分析页面**
  - 营收分析图表
  - 成本分析图表
  - 利润率分析
  - 经营效率指标

#### 5.2.7 数据回收站模块
- **已删除会员页面**
  - 已删除会员列表
  - 恢复/彻底删除操作
  - 批量操作工具
  
- **已删除商品页面**
  - 已删除商品列表
  - 恢复/彻底删除操作
  - 批量操作工具
  
- **已删除活动页面**
  - 已删除活动列表
  - 恢复/彻底删除操作
  - 批量操作工具

#### 5.2.8 系统管理模块
- **用户管理页面**
  - 系统用户列表
  - 用户添加/编辑
  - 用户权限分配
  
- **角色权限管理页面**
  - 角色列表
  - 角色创建/编辑
  - 权限分配矩阵
  
- **系统设置页面**
  - 基本信息设置
  - 业务参数配置
  - 通知设置
  - 安全设置
  
- **操作日志页面**
  - 日志列表展示
  - 日志筛选工具
  - 日志导出功能

### 5.3 页面交互设计

#### 5.3.1 通用交互组件
- **数据表格组件**：支持分页、排序、筛选、行选择、自定义操作列
- **表单组件**：支持验证、动态表单项、条件显示
- **搜索过滤组件**：支持多条件组合搜索、保存搜索条件
- **导入导出组件**：支持各种格式数据的导入导出
- **批量操作组件**：支持多选后的批量处理操作
- **状态切换组件**：支持快速更改状态的开关按钮
- **消息通知组件**：操作成功/失败的反馈提示

#### 5.3.2 页面间导航
- 面包屑导航：显示当前页面位置及返回路径
- 相关页面快捷链接：在详情页中提供编辑、列表等相关页面的快速链接
- 标签式页面切换：支持多页面同时打开并快速切换

#### 5.3.3 响应式设计
- 桌面端优化布局：充分利用屏幕空间，展示更多信息
- 平板端自适应：关键功能保持可访问性
- 移动端简化视图：保证核心功能可用性

### 5.4 主题与视觉设计
- 主色调：专业商务蓝为主色调，体现专业性
- 辅助色：根据不同功能模块区分辅助色，增强可识别性
- 图标系统：统一的线性图标风格，提升界面识别性
- 响应式布局：适配不同尺寸的设备屏幕
- 暗黑模式支持：减轻长时间使用的视觉疲劳

## 6. 安全设计

### 6.1 认证机制
- JWT token认证
- 密码加密存储
- 登录失败限制

### 6.2 权限控制
- 基于角色的访问控制（RBAC）
- 接口权限控制
- 数据权限控制
- 操作日志记录

### 6.3 数据安全
- 敏感数据加密
- 软删除机制
- 数据备份与恢复

## 7. 性能设计

### 7.1 缓存策略
- Redis缓存热点数据
- 本地缓存静态资源
- 数据库查询优化

### 7.2 并发处理
- 数据库连接池
- 请求限流
- 异步处理

## 8. 部署方案

### 8.1 环境要求
- Node.js >= 14.0.0
- Go >= 1.16
- MySQL >= 8.0
- Redis >= 6.0

### 8.2 部署架构
- 前端：Nginx + Vue.js
- 后端：Go + Gin
- 数据库：MySQL主从
- 缓存：Redis集群 

